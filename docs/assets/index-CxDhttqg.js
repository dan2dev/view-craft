(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function I(e){return e===null||typeof e!="object"&&typeof e!="function"}function T(e){return e instanceof Node}function k(e){return typeof e=="object"&&e!==null}function A(e){return k(e)&&"tagName"in e}function b(e){return typeof e=="function"}function v(e,t){typeof console<"u"&&console.error(`view-craft: ${e}`,t)}function M(e,t){try{return e()}catch(n){return v("Operation failed",n),t}}const w=typeof window<"u"&&typeof document<"u";function G(e){if(!e?.parentNode)return!1;try{return e.parentNode.removeChild(e),!0}catch{return!1}}function W(e){if(!w)return null;try{return document.createComment(e)}catch{return null}}function z(e){if(!w)throw new Error("Cannot create comment in non-browser environment");const t=W(`${e}-${Math.random().toString(36).slice(2)}`);if(!t)throw new Error("Failed to create comment");return t}function H(e){const t=W(`${e}-end`);if(!t)throw new Error("Failed to create end comment");return{start:z(`${e}-start`),end:t}}function R(e){return!!e&&(typeof e.isConnected=="boolean"?e.isConnected:document.contains(e))}const L=new Map,S=new Map;function J(e,t){t.attributeResolvers.forEach(({resolver:n,applyValue:o},r)=>{try{o(M(n))}catch(s){v(`Failed to update reactive attribute: ${r}`,s)}})}function O(e,t){if(typeof e!="function")return v("Invalid resolver provided to createReactiveTextNode"),document.createTextNode("");const n=arguments.length>1?t:M(e,""),o=n===void 0?"":String(n),r=document.createTextNode(o);return L.set(r,{resolver:e,lastValue:o}),r}function q(e,t,n,o){if(!(e instanceof Element&&t&&typeof n=="function"))return void v("Invalid parameters for registerAttributeResolver");const r=(function(s){let i=S.get(s);return i||(i={attributeResolvers:new Map},S.set(s,i)),i})(e);r.attributeResolvers.set(t,{resolver:n,applyValue:o});try{o(M(n))}catch(s){v("Failed to apply initial attribute value",s)}if(!r.updateListener){const s=()=>J(0,r);e.addEventListener("update",s),r.updateListener=s}}function V(e,t){e&&e.style&&t&&Object.entries(t).forEach(([n,o])=>{if(o==null||o==="")e.style.removeProperty(n),e.style[n]="";else try{e.style[n]=String(o)}catch{}})}function X(e,t,n){if(n==null)return;if(t==="style")return r=n,void((o=e)&&(b(r)?q(o,"style",()=>{try{return r()}catch{return null}},i=>{V(o,i)}):V(o,r)));var o,r;const s=i=>{i!=null&&(t in e?e[t]=i:e instanceof Element&&e.setAttribute(String(t),String(i)))};b(n)&&n.length===0?q(e,String(t),n,s):s(n)}function _(e,t){if(t)for(const n of Object.keys(t))X(e,n,t[n])}const y=new WeakMap;function Z(e){const{value:t,error:n}=(function(o){const r=y.get(o);if(r)return r;try{const s={value:o(),error:!1};return y.set(o,s),s}catch{const s={value:void 0,error:!0};return y.set(o,s),s}})(e);return!n&&typeof t=="boolean"}function ee(e,t,n){if(!b(e)||e.length!==0||!Z(e))return!1;const o=t.filter((r,s)=>s!==n);return o.length===0?!1:o.some(r=>k(r)||T(r)||b(r)&&r.length>0)}function N(e,t,n){if(t==null)return null;if(b(t)){if(t.length===0)try{let s=y.get(t);if(s||(s={value:t(),error:!1},y.set(t,s)),s.error)return O(()=>"");const i=s.value;return I(i)&&i!=null?O(t,i):null}catch(s){return y.set(t,{value:void 0,error:!0}),v("Error evaluating reactive text function:",s),O(()=>"")}const r=t(e,n);return r==null?null:I(r)?document.createTextNode(String(r)):T(r)?r:(k(r)&&_(e,r),null)}const o=t;return o==null?null:I(o)?document.createTextNode(String(o)):T(o)?o:(k(o)&&_(e,o),null)}const $=new Set;function E(e,t){e._conditionalInfo=t,$.add(e)}function B(e,t,n=0){if(!t||t.length===0)return{element:e,nextIndex:n,appended:0};let o=n,r=0;const s=e;for(let i=0;i<t.length;i+=1){const u=t[i];if(u==null)continue;const g=N(e,u,o);g&&(g.parentNode!==s&&s.appendChild(g),o+=1,r+=1)}return{element:e,nextIndex:o,appended:r}}function F(e,t){const n=document.createElement(e);return B(n,t,0),n}function te(e){const t=(function(n){for(let o=0;o<n.length;o+=1)if(ee(n[o],n,o))return o;return-1})(e);return t===-1?{condition:null,otherModifiers:e}:{condition:e[t],otherModifiers:e.filter((n,o)=>o!==t)}}function ne(e,...t){return(n,o)=>{const{condition:r,otherModifiers:s}=te(t);if(r)return(function(u,g,f){const m=g();if(!w)return m?F(u,f):document.createComment(`conditional-${u}-ssr`);if(m){const c=F(u,f);return E(c,{condition:g,tagName:u,modifiers:f}),c}const l=document.createComment(`conditional-${u}-hidden`);return E(l,{condition:g,tagName:u,modifiers:f}),l})(e,r,s);const i=document.createElement(e);return B(i,s,o),i}}function re(e){return(...t)=>ne(e,...t)}const oe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","menu","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","script","search","section","select","slot","small","source","span","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function se(e=globalThis){const t="__vc_tags_registered";e[t]||(oe.forEach(n=>(function(o,r){r in o||(o[r]=re(r))})(e,n)),e[t]=!0)}const D=new Set;function ae(e,t,n){return(function(o,r,s){if(b(o)){const i=o(r,s);return i&&A(i)?i:null}return o&&A(o)?o:null})(e.renderItem(t,n),e.host,n)}function ie(e){G(e.element)}function K(e){const{host:t,startMarker:n,endMarker:o}=e,r=n.parentNode??t,s=e.itemsProvider();if((function(l,c){if(l===c)return!0;if(l.length!==c.length)return!1;for(let d=0;d<l.length;d++)if((d in l?l[d]:void 0)!==(d in c?c[d]:void 0))return!1;return!0})(e.lastSyncedItems,s))return;const i=new Map,u=new Map;e.records.forEach(l=>{const c=u.get(l.item);c?c.push(l):u.set(l.item,[l])}),s.forEach((l,c)=>{if(c<e.lastSyncedItems.length&&e.lastSyncedItems[c]===l){const d=e.records[c];if(d&&d.item===l){i.set(c,d);const h=u.get(l);if(h){const x=h.indexOf(d);x>=0&&(h.splice(x,1),h.length===0&&u.delete(l))}}}});const g=[],f=new Set(e.records);let m=o;for(let l=s.length-1;l>=0;l--){const c=s[l];let d=i.get(l);if(!d){const x=u.get(c);x&&x.length>0&&(d=x.shift(),x.length===0&&u.delete(c))}if(d)f.delete(d);else{const x=ae(e,c,l);if(!x)continue;d={item:c,element:x}}g.unshift(d);const h=d.element;h.nextSibling!==m&&r.insertBefore(h,m),m=h}f.forEach(ie),e.records=g,e.lastSyncedItems=[...s]}function le(e,t){return n=>(function(r,s,i){const{start:u,end:g}=H("list"),f={itemsProvider:r,renderItem:s,startMarker:u,endMarker:g,records:[],host:i,lastSyncedItems:[]},m=i;return m.appendChild(u),m.appendChild(g),D.add(f),K(f),f})(e,t,n).startMarker}function Y(e,t){try{return e()}catch(n){if(!t)throw n;return t(n),!1}}function ce(e,t){return typeof e=="function"?Y(e,t):!!e}const P=new Set;function U(e){const{groups:t,elseContent:n,host:o,index:r,endMarker:s}=e;let i=null;for(let f=0;f<t.length;f++)if(ce(t[f].condition)){i=f;break}if(i===null&&n.length&&(i=-1),i===e.activeIndex||((function(f,m){let l=f.nextSibling;for(;l&&l!==m;){const c=l.nextSibling;G(l),l=c}})(e.startMarker,e.endMarker),e.activeIndex=i,i===null))return;const u=[],g=f=>{for(const m of f){if(b(m)){if(m.length===0){y.delete(m);const h=N(o,m,r);h&&u.push(h);continue}const c=o,d=c.appendChild;c.appendChild=function(h){return c.insertBefore(h,s)};try{const h=N(o,m,r);h&&!h.parentNode&&u.push(h)}finally{c.appendChild=d}continue}const l=N(o,m,r);l&&u.push(l)}};i>=0?g(t[i].content):i===-1&&g(n),(function(f,m){const l=m.parentNode;l&&f.forEach(c=>(function(d,h,x){if(!d||!h)return!1;try{return d.insertBefore(h,x),!0}catch{return!1}})(l,c,m))})(u,s)}class ue{groups=[];elseContent=[];constructor(t,...n){this.groups.push({condition:t,content:n})}when(t,...n){return this.groups.push({condition:t,content:n}),this}else(...t){return this.elseContent=t,this}render(t,n){if(!w)return document.createComment("when-ssr");const{start:o,end:r}=H("when"),s={startMarker:o,endMarker:r,host:t,index:n,groups:[...this.groups],elseContent:[...this.elseContent],activeIndex:null,update:()=>U(s)};P.add(s);const i=t;return i.appendChild(o),i.appendChild(r),U(s),o}}function j(e){return Object.assign((t,n)=>e.render(t,n),{when:(t,...n)=>(e.when(t,...n),j(e)),else:(...t)=>(e.else(...t),j(e))})}function de(e,...t){return j(new ue(e,...t))}function Q(e,t){if(e.parentNode)try{e.parentNode.replaceChild(t,e)}catch(n){console.error("Error replacing conditional node:",n)}}function fe(e){const t=(function(r){return r._conditionalInfo??null})(e);if(!t)return;const n=Y(t.condition,r=>{console.error("Error evaluating conditional condition:",r)}),o=e.nodeType===Node.ELEMENT_NODE;if(n&&!o){const r=(function(s){const i=document.createElement(s.tagName);try{B(i,s.modifiers,0)}catch(u){console.error(`Error applying modifiers in conditional element "${s.tagName}":`,u)}return i})(t);E(r,t),Q(e,r)}else if(!n&&o){const r=(function(s){return document.createComment(`conditional-${s.tagName}-hidden`)})(t);E(r,t),Q(e,r)}}const pe=[function(){D.forEach(e=>{e.startMarker.isConnected&&e.endMarker.isConnected?K(e):D.delete(e)})},function(){P.forEach(e=>{try{e.update()}catch{P.delete(e)}})},function(){if(w)try{$.forEach(e=>{e.isConnected?fe(e):(function(t){$.delete(t)})(e)})}catch(e){console.error("Error during conditional elements update:",e)}},function(){S.forEach((e,t)=>{if(!R(t))return e.updateListener&&t.removeEventListener("update",e.updateListener),void S.delete(t);J(0,e)})},function(){L.forEach((e,t)=>{if(R(t))try{const n=M(e.resolver),o=n===void 0?"":String(n);o!==e.lastValue&&(t.textContent=o,e.lastValue=o)}catch(n){v("Failed to update reactive text node",n)}else L.delete(t)})},function(){if(typeof document>"u")return;const e=[];document.body&&e.push(document.body),e.push(document),e.forEach(t=>{try{t.dispatchEvent(new Event("update",{bubbles:!0}))}catch(n){console.error("Error dispatching global update event:",n)}})}];function me(){for(const e of pe)e()}function he(e,t,n){return o=>{const r=o;!r||typeof r.addEventListener!="function"||r.addEventListener(e,s=>{try{t.call(r,s)}catch(i){typeof console<"u"&&console.error&&console.error(`[view-craft:on] Error in '${e}' listener:`,i)}},n)}}function ge(e,t,n=0){const o=e(t||document.body,n);return(t||document.body).appendChild(o),o}function xe(){if(se(),typeof globalThis<"u"){const e=globalThis;e.list=le,e.update=me,e.when=de,e.on=he,e.render=ge}}typeof globalThis<"u"&&xe();const ye=[{title:"Zero magic",description:"You call update() when ready. Batch mutations without guessing when the DOM will re-render."},{title:"DOM-first mindset",description:"Work with native nodes directly—no virtual DOM, no JSX transform, just functions and elements."},{title:"Global API",description:"All 140+ HTML and SVG helpers like div(), button(), and svg() are available once you import the library."},{title:"TypeScript brewed",description:"Ship strongly typed tags and helpers plus IDE-friendly hints that cover every attribute."}],be=[{title:"Counter",summary:"Increment and reset with explicit updates.",code:String.raw`
import 'view-craft';

let count = 0;

const app = div(
  h1(() => \`Count: \${count}\`),
  button('Increment', on('click', () => { count++; update(); })),
  button('Reset', on('click', () => { count = 0; update(); }))
);

render(app);
`},{title:"Todo list",summary:"Mutate arrays and sync the DOM with list().",code:String.raw`
import 'view-craft';

type Todo = { id: number; text: string; done: boolean };

let todos: Todo[] = [];
let nextId = 1;
let input = '';

function addTodo() {
  if (!input.trim()) return;
  todos.push({ id: nextId++, text: input, done: false });
  input = '';
  update();
}

const app = div(
  input({ value: () => input }, on('input', e => { input = e.target.value; update(); })),
  button('Add', on('click', addTodo)),
  when(() => todos.length > 0,
    list(() => todos, todo =>
      div(
        input({ type: 'checkbox', checked: () => todo.done }, on('change', () => { todo.done = !todo.done; update(); })),
        span(() => todo.text)
      )
    )
  ).else(p('No todos yet!'))
);

render(app);
`},{title:"Search filter",summary:"Keep derived data in simple functions and refresh when it changes.",code:String.raw`
import 'view-craft';

const users = [
  { id: 1, name: 'Alice Johnson', email: 'alice@example.com' },
  { id: 2, name: 'Bob Smith', email: 'bob@example.com' },
  { id: 3, name: 'Charlie Brown', email: 'charlie@example.com' },
];

let searchQuery = '';

function filteredUsers() {
  const q = searchQuery.toLowerCase();
  return users.filter(u =>
    u.name.toLowerCase().includes(q) ||
    u.email.toLowerCase().includes(q)
  );
}

const app = div(
  input({
    type: 'search',
    placeholder: 'Search users...',
    value: () => searchQuery,
  }, on('input', e => { searchQuery = e.target.value; update(); })),
  when(() => filteredUsers().length > 0,
    list(() => filteredUsers(), user =>
      div({ className: 'user-card' }, h3(user.name), p(user.email))
    )
  ).else(p(() => \`No users found for "\${searchQuery}"\`))
);

render(app);
`}];function C(e,t){const n=t.trim();return pre({className:"overflow-x-auto rounded-xl bg-slate-950/70 p-4 ring-1 ring-slate-800/60 backdrop-blur"},code({className:`block text-sm text-slate-200 language-${e}`},n))}const ve=header({className:"relative isolate overflow-hidden bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 px-6 py-24 sm:py-32"},div({className:"mx-auto flex max-w-4xl flex-col items-center text-center gap-6"},span({className:"rounded-full border border-slate-700/70 px-4 py-1 text-sm text-slate-300"},"View Craft · DOM-first UI library"),h1({className:"text-4xl font-semibold tracking-tight text-slate-50 sm:text-6xl"},"Build reactive UIs the explicit way"),p({className:"max-w-2xl text-base text-slate-300 sm:text-lg"},"Use view-craft to assemble fast, reactive interfaces without a virtual DOM. Mutate state, call update(), and keep shipping."),div({className:"flex flex-wrap items-center gap-4"},a({className:"rounded-full bg-slate-50 px-5 py-2 text-sm font-semibold text-slate-900 shadow-sm transition hover:bg-white/80",href:"#installation"},"Get started"),a({className:"rounded-full border border-slate-700 px-5 py-2 text-sm font-semibold text-slate-200 transition hover:border-slate-500 hover:text-white",href:"https://github.com/dan2dev/view-craft",target:"_blank",rel:"noreferrer"},"Source on GitHub")))),we=section({id:"why",className:"px-6 py-20"},div({className:"mx-auto grid max-w-5xl gap-10 md:grid-cols-2"},div({className:"space-y-4"},h2({className:"text-3xl font-semibold text-slate-50"},"Why view-craft?"),p({className:"text-base text-slate-300"},"Cut through framework ceremony and talk to the DOM directly. view-craft keeps your mental model inline with browser APIs while staying productive.")),div({className:"grid gap-6"},...ye.map(({title:e,description:t})=>article({className:"rounded-2xl border border-slate-800/60 bg-slate-900/60 p-6 shadow-lg shadow-black/10 transition hover:border-slate-700"},h3({className:"text-lg font-semibold text-slate-50"},e),p({className:"mt-2 text-sm text-slate-300"},t)))))),Ne=section({id:"installation",className:"px-6 py-20"},div({className:"mx-auto max-w-4xl space-y-8"},h2({className:"text-3xl font-semibold text-slate-50"},"Installation"),p({className:"text-base text-slate-300"},"Install the package once, then import it globally to register every helper."),C("bash","pnpm add view-craft"),p({className:"text-base text-slate-300"},"Need npm instead? Swap pnpm with your package manager of choice."),h3({className:"text-xl font-semibold text-slate-200"},"Register globals"),C("ts",String.raw`
import 'view-craft';

const counter = div(
  h1(() => 'Count: 0'),
  button('Increment', on('click', () => update()))
);

render(counter);
`))),ke=section({id:"typescript",className:"px-6 py-20"},div({className:"mx-auto max-w-4xl space-y-6"},h2({className:"text-3xl font-semibold text-slate-50"},"TypeScript setup"),p({className:"text-base text-slate-300"},"Enable intellisense for every tag and helper by extending your compiler settings."),C("json",String.raw`
{
  "compilerOptions": {
    "types": ["vite/client", "view-craft/types"]
  }
}
`),p({className:"text-base text-slate-300"},'Alternatively, add /// <reference types="view-craft/types" /> to your vite-env.d.ts file.'))),Se=section({id:"examples",className:"px-6 py-20"},div({className:"mx-auto max-w-5xl space-y-8"},h2({className:"text-3xl font-semibold text-slate-50"},"Quick examples"),p({className:"text-base text-slate-300"},"Every example keeps state as plain data and schedules a single update() call to reflect changes."),div({className:"grid gap-8 lg:grid-cols-3"},...be.map(({title:e,summary:t,code:n})=>article({className:"flex flex-col gap-4 rounded-2xl border border-slate-800/60 bg-slate-900/60 p-6 shadow-lg shadow-black/10"},div({className:"space-y-2"},h3({className:"text-lg font-semibold text-slate-50"},e),p({className:"text-sm text-slate-300"},t)),C("ts",n)))))),Ee=section({id:"concepts",className:"px-6 py-20"},div({className:"mx-auto max-w-4xl space-y-6"},h2({className:"text-3xl font-semibold text-slate-50"},"Core concepts"),ul({className:"grid gap-4 text-base text-slate-300 md:grid-cols-2"},li(strong("Explicit updates: "),"Mutate all the things, then call update() once. Perfect for async flows or large batch changes."),li(strong("Reactive functions: "),"Wrap text or attributes in zero-arg functions so they run again whenever update() executes."),li(strong("when(): "),"Chain when(...).else(...) blocks for concise branching without remounting preserved DOM."),li(strong("list(): "),"Render arrays by identity to keep elements stable—mutate the original objects for instant DOM sync.")))),Ce=section({id:"practices",className:"px-6 py-20"},div({className:"mx-auto max-w-4xl space-y-6"},h2({className:"text-3xl font-semibold text-slate-50"},"Best practices"),ul({className:"space-y-3 text-base text-slate-300"},li("Batch work, then call update() once. It keeps repaint budgets happy."),li("Prefer mutating existing objects in lists so view-craft can reuse DOM nodes."),li("Use .else() clauses to keep control flow obvious for future maintainers."),li("Drop debug breakpoints right before update() to inspect state transitions."),li("Need to integrate Tailwind utilities? Apply className strings—no build-time macros required.")))),Me=footer({className:"px-6 pb-16 pt-10"},div({className:"mx-auto flex max-w-5xl flex-col items-center justify-between gap-4 text-sm text-slate-500 sm:flex-row"},span("© ",new Date().getFullYear().toString()," view-craft. MIT licensed."),span("Built with view-craft and Vite · ",a({href:"https://github.com/dan2dev/view-craft",className:"underline-offset-4 hover:underline",target:"_blank",rel:"noreferrer"},"Contribute on GitHub"))));render(div({className:"min-h-screen bg-slate-950 text-slate-100"},ve,main({className:"space-y-12"},we,Ne,ke,Se,Ee,Ce),Me));
